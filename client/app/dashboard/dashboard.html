<div id="dashboard" flex-sm="100" flex-md="100" flex-gt-md="80" class="md-whiteframe-z2" layout>
	<md-sidenav flex-gt-sm="30" class="md-sidenav-left left-toolbar" md-component-id="left-toolbar" layout="column" ng-cloak md-is-locked-open="$mdMedia('gt-sm')">
		<profile></profile>
		<md-sidenav flex="100" class="md-sidenav-left contact-list width-100" md-component-id="contact-list" layout="column">
			<md-toolbar>
				<div class="md-toolbar-tools">
					<md-button class="md-icon-button" aria-label="Close Contact List" ng-click="toggleSidenav('contact-list')">
						<md-icon md-svg-icon="back"></md-icon>
					</md-button>
					<h1>Contacts</h1>
					<span flex></span>
					<md-button class="md-icon-button" aria-label="New Contact" ng-click="showNewContactDialog($event)">
						<md-icon md-svg-icon="person_add"></md-icon>
					</md-button>
				</div>
			</md-toolbar>
			<search-box placeholder="Search for contacts" bind="contactListSearch"></search-box>
			<md-divider></md-divider>
			<contact-list requests="true" filter="contactListSearch"></contact-list>
		</md-sidenav>
		<md-toolbar>
			<div class="md-toolbar-tools">
				<div class="round-img-container">
					<img class="round-img no-outline clickable" alt="{{user.name}}" ng-click="toggleSidenav('profile-info')" ng-src="{{ user.img }}" />
				</div>
				<span flex></span>
				<md-button class="md-icon-button" aria-label="Contacts" ng-click="toggleSidenav('contact-list')">
					<md-icon md-svg-icon="contacts" ng-class="{ 'notification': contactListUpdate }"></md-icon>
				</md-button>
				<md-menu md-position-mode="target target">
					<md-button class="md-icon-button" aria-label="Options" ng-click="$mdOpenMenu()">
						<md-icon md-svg-icon="more_vert"></md-icon>
					</md-button>
					<md-menu-content width="3">
						<md-menu-item>
							<md-button ng-click="showNewGroupDialog($event)">
								New group
							</md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="showSettingsDialog('password', $event)">
								Change password
							</md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="showSettingsDialog('email', $event)">
								Change email
							</md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="logout()">
								Logout
							</md-button>
						</md-menu-item>
					</md-menu-content>
				</md-menu>
			</div>
		</md-toolbar>
		<search-box placeholder="Search for chat"></search-box>
		<md-divider></md-divider>
		<md-content flex>
			<chat-list requests="true"></chat-list>
		</md-content>
	</md-sidenav>
	<md-content flex-gt-sm="70" flex="100" class="right-toolbar" layout="column" ng-cloak>
		<md-toolbar ng-show="!me.conversations.length > 0 && !me.groups.length > 0">
			<div class="md-toolbar-tools">
				<h2 class="md-flex">Welcome</h2>
			</div>
		</md-toolbar>
		<md-content ng-show="!me.conversations.length > 0 && !me.groups.length > 0" ng-include="'app/dashboard/views/welcome.html'" flex layout-padding></md-content>
		<chat-window ng-show="me.conversations.length > 0 || me.groups.length > 0"></chat-window>
	</md-content>
</div>
